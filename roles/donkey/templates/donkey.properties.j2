# Connection details.
donkey.app.listen-port = {{ donkey_port }}

# Environment information.
donkey.app.environment-name = {{ environment_name }}

# Route flags.
donkey.routes.notifications = true
donkey.routes.apps          = true
donkey.routes.metadata      = true
donkey.routes.prefs         = true
donkey.routes.user-info     = true
donkey.routes.data          = true
donkey.routes.tree-viewer   = true
donkey.routes.session       = true
donkey.routes.collaborator  = true
donkey.routes.coge          = true
donkey.routes.search        = true

# Route-independent feature flags.
donkey.features.agave      = true
donkey.features.agave.jobs = true

# Debugging settings.
donkey.debug.log-runtimes = false
donkey.debug.ownership    = false

# Database settings.
donkey.db.driver      = {{ db_driver }}
donkey.db.subprotocol = {{ db_vendor }}
donkey.db.host        = {{ db_host }}
donkey.db.port        = {{ db_port }}
donkey.db.name        = {{ db_name }}
donkey.db.user        = {{ db_user }}
donkey.db.password    = {{ db_password }}

# Metadata database settings.
donkey.metadata.driver      = {{ metadata_db_driver }}
donkey.metadata.subprotocol = {{ metadata_db_vendor }}
donkey.metadata.host        = {{ metadata_db_host }}
donkey.metadata.port        = {{ metadata_db_port }}
donkey.metadata.db          = {{ metadata_db_name }}
donkey.metadata.user        = {{ metadata_db_user }}
donkey.metadata.password    = {{ metadata_db_password }}

# JEX Events connection settings.
donkey.jex-events.base-url = {{ jex_events }}

# Agave connection settings.
donkey.agave.base-url             = {{ agave_base_url }}
donkey.agave.key                  = {{ agave_client_key }}
donkey.agave.secret               = {{ agave_client_secret }}
donkey.agave.oauth-base           = {{ agave_base_url }}/oauth2
donkey.agave.oauth-refresh-window = {{ agave_oauth_refresh_window }}
donkey.agave.redirect-uri         = {{ de_base }}/oauth/callback/agave
donkey.agave.storage-system       = {{ irods_host }}

# Agave callback settings.
donkey.agave.callback-base = {{ de_base }}/agave-cb

# Donkey base URL.
donkey.base-url = {{ donkey_base }}

# iPlant Email service connection settings.
donkey.email.base-url          = {{ email_base }}
donkey.email.tool-request-dest = {{ de_mail_to_addr }}
donkey.email.tool-request-src  = {{ de_mail_from_addr }}
donkey.email.feedback-dest     = {{ de_feedback_to_addr }}

# Metadactyl connection settings
donkey.metadactyl.base-url = {{ metadactyl_base }}

# Notification agent connection settings.
donkey.notificationagent.base-url = {{ notificationagent_base }}

# CAS Settings
donkey.cas.cas-server        = {{ cas_base }}/
donkey.cas.server-name       = {{ donkey_base }}
donkey.cas.pgt-callback-base = {{ de_base }}
donkey.cas.pgt-callback-path = /secured/pgt-callback

# The settings to use for authorization.
donkey.cas.group-attr-name = {{ cas_group_attribute }}
donkey.cas.allowed-groups  = {{ admin_groups }}

# The domain name to append to the user id to get the fully qualified user id.
donkey.uid.domain = {{ cas_uid_domain }}

# User information lookup settings.
donkey.userinfo.base-url             = {{ user_info_base }}
donkey.userinfo.client-key           = {{ user_info_client_key }}
donkey.userinfo.password             = {{ user_info_client_secret }}
donkey.userinfo.default-search-limit = 50

# JEX connection settings
donkey.jex.base-url = {{ jex_base }}/

# Tree viewer settings
donkey.tree-viewer.base-url = {{ tree_parser_base }}

# Elastic Search settings
donkey.infosquito.es-url = {{ es_base }}

# App execution settings
donkey.job-exec.default-output-folder = {{ metadactyl_out_dir }}

# iRODS configuration
donkey.irods.host          = {{ irods_host }}
donkey.irods.port          = {{ irods_port }}
donkey.irods.user          = {{ irods_user }}
donkey.irods.pass          = {{ irods_password }}
donkey.irods.home          = {{ irods_home }}
donkey.irods.zone          = {{ irods_zone }}
donkey.irods.resc          =
donkey.irods.max-retries   = 10
donkey.irods.retry-sleep   = 1000
donkey.irods.use-trash     = true
donkey.irods.admin-users   = {{ irods_admin_users }}

# ICAT configuration
donkey.icat.host           = {{ icat_host }}
donkey.icat.port           = {{ icat_port }}
donkey.icat.user           = {{ icat_user }}
donkey.icat.password       = {{ icat_password }}
donkey.icat.db             = {{ icat_db }}

# Garnish configuration
donkey.garnish.type-attribute = ipc-filetype
donkey.garnish.filetype-read-amount = 1024

# File IO settings
donkey.fileio.temp-dir       = {{ irods_temp_dir }}
donkey.fileio.url-import-app = 1E8F719B-0452-4D39-A2F3-8714793EE3E6
donkey.fileio.max-edit-file-size = {{ max_edit_file_size }}

# Filesystem settings
donkey.data-info.base-url            = http://{{ data_info_host }}:{{ data_info_port }}
donkey.fs.preview-size               = 8000
donkey.fs.data-threshold             = 8000
donkey.fs.community-data             = {{ irods_home }}/shared
donkey.fs.bad-names                  = cacheServiceTempDir
donkey.fs.perms-filter               = {{ nibblonian_perms_filter }}
donkey.fs.copy-key                   = ipc-de-copy-from
donkey.fs.bad-chars                  = \u0060\u0027\u000A\u0009
donkey.fs.max-paths-in-request       = {{ fs_max_paths_in_request }}
donkey.fs.kifshare-download-template = {{ kifshare_de_url }}
donkey.fs.kifshare-external-url      = {{ kifshare_external_url }}
donkey.fs.anon-user                  = {{ anon_files_anon_user }}
donkey.fs.anon-files-base-url        = {{ anon_files_base_url }}

# COGE settings
donkey.coge.user = {{ coge_user }}
donkey.coge.genome-load-url = {{ coge_genome_load_url }}

# Search settings
donkey.search.default-limit = {{ search_default_limit }}

# User Preferences Settings
donkey.preferences.host = http://{{ user_preferences_host }}:{{ user_preferences_port }}

# User Sessions Settings
donkey.sessions.host = http://{{ user_sessions_host }}:{{ user_sessions_port }}

# Saved Searches Settings
donkey.saved-searches.host = http://{{ saved_searches_host }}:{{ saved_searches_port }}

# Tree URLs Settings
donkey.tree-urls.host = http://{{ tree_urls_host }}:{{ tree_urls_port }}

# PGP Settings
donkey.pgp.keyring-path = {{ pgp_keyring_path }}
donkey.pgp.key-password = {{ pgp_key_password }}

# The job status polling interval used by Donkey.
donkey.jobs.poll-interval = {{ job_status_poll_interval }}

# Workspace app category names.
donkey.workspace.root-app-category      = {{ metadactyl_user_root }}
donkey.workspace.default-app-categories = {{ metadactyl_user_subs }}
